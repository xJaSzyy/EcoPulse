<template>
  <div class="home">
    <h1>–í—ã–±–æ—Ä –º–µ—Ç–æ–¥–∏–∫–∏ —Ä–∞—Å—á–µ—Ç–∞ –≤—ã–±—Ä–æ—Å–æ–≤</h1>
    <div class="methods-grid">
      <!-- –ü–µ—Ä–≤—ã–µ 4 –∫–∞—Ä—Ç–æ—á–∫–∏ -->
      <MethodCard
          v-for="method in leftMethods"
          :key="method.id"
          :title="method.title"
          :description="method.description"
          :route="method.route"
          :icon="method.icon"
      />

      <div class="method-card earth-card" @click="$router.push('/map')">
        <div class="method-icon">
          <div class="earth-wrapper">
            <img src="../icons/earth.png" alt="–ó–µ–º–ª—è" class="earth" />
            <div class="earth-glow"></div>
          </div>
        </div>
        <div class="earth-arrow">‚Üí</div>
      </div>

      <!-- –ü–æ—Å–ª–µ–¥–Ω–∏–µ 4 –∫–∞—Ä—Ç–æ—á–∫–∏ -->
      <MethodCard
          v-for="method in rightMethods"
          :key="method.id"
          :title="method.title"
          :description="method.description"
          :route="method.route"
          :icon="method.icon"
      />
    </div>
  </div>
</template>

<script setup>
import MethodCard from '../components/MethodCard.vue'
import { useRouter } from 'vue-router'
import EarthIcon from '../icons/earth.png'
import { ref } from 'vue'

const router = useRouter()

const allMethods = ref([
  {
    id: 1,
    title: '–ë–µ–Ω–∑–æ–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä',
    description: '–†–∞—Å—á–µ—Ç –≤—ã–±—Ä–æ—Å–æ–≤ –æ—Ç –±–µ–Ω–∑–æ–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞',
    route: '/gasoline-generator',
    icon: '‚ö°'
  },
  {
    id: 2,
    title: '–†–µ–∑–µ—Ä–≤—É–∞—Ä—ã',
    description: '–†–∞—Å—á–µ—Ç –≤—ã–±—Ä–æ—Å–æ–≤ –æ—Ç —Ä–µ–∑–µ—Ä–≤—É–∞—Ä–æ–≤',
    route: '/reservoirs',
    icon: 'üõ¢Ô∏è'
  },
  {
    id: 3,
    title: '–û–±—Ä–∞–±–æ—Ç–∫–∞ –º–µ—Ç–∞–ª–ª–æ–≤',
    description: '–†–∞—Å—á–µ—Ç –≤—ã–±—Ä–æ—Å–æ–≤ –ø—Ä–∏ –º–µ—Ö–∞–Ω–∏—á–µ—Å–∫–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–µ –º–µ—Ç–∞–ª–ª–æ–≤',
    route: '/during-metal-machining',
    icon: '‚öíÔ∏è'
  },
  {
    id: 4,
    title: '–°–≤–∞—Ä–æ—á–Ω—ã–µ —Ä–∞–±–æ—Ç—ã',
    description: '–†–∞—Å—á–µ—Ç –≤—ã–±—Ä–æ—Å–æ–≤ –ø—Ä–∏ —Å–≤–∞—Ä–æ—á–Ω—ã—Ö —Ä–∞–±–æ—Ç–∞—Ö',
    route: '/during-welding-operations',
    icon: 'üîß'
  },
  {
    id: 6,
    title: '–¢–æ—á–µ—á–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫',
    description: '–†–∞—Å—á–µ—Ç –≤—ã–±—Ä–æ—Å–æ–≤ –æ—Ç –æ–¥–∏–Ω–æ—á–Ω–æ–≥–æ —Ç–æ—á–µ—á–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞',
    route: '/maximum-single',
    icon: 'üìç'
  },
  {
    id: 7,
    title: '–î–≤–∏–∂—É—â–∏–π—Å—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç',
    description: '–†–∞—Å—á–µ—Ç –≤—ã–±—Ä–æ—Å–æ–≤ –æ—Ç –¥–≤–∏–∂—É—â–µ–≥–æ—Å—è –∞–≤—Ç–æ—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞',
    route: '/vehicle-flow',
    icon: 'üöó'
  },
  {
    id: 8,
    title: '–°—Ç–æ—è—â–∏–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç',
    description: '–†–∞—Å—á–µ—Ç –≤—ã–±—Ä–æ—Å–æ–≤ –æ—Ç –∞–≤—Ç–æ—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ –≤ —Ä–∞–π–æ–Ω–µ —Ä–µ–≥—É–ª–∏—Ä—É–µ–º–æ–≥–æ –ø–µ—Ä–µ–∫—Ä–µ—Å—Ç–∫–∞',
    route: '/traffic-light-queue',
    icon: 'üö¶'
  },
  {
    id: 9,
    title: '–û—Ç–∫—Ä—ã—Ç—ã–π —Å–∫–ª–∞–¥ —É–≥–ª—è',
    description: '–†–∞—Å—á–µ—Ç –≤—ã–±—Ä–æ—Å–æ–≤ –æ—Ç –æ—Ç–∫—Ä—ã—Ç—ã—Ö —Å–∫–ª–∞–¥–æ–≤ —É–≥–ª—è',
    route: '/open-coal-warehouse',
    icon: 'üè≠'
  }
])

const leftMethods = ref(allMethods.value.slice(0, 4))
const rightMethods = ref(allMethods.value.slice(4, 8))
</script>

<style scoped>
.home {
  padding: 20px;
  max-width: 1200px;
  margin: 0 auto;
}

h1 {
  text-align: center;
  margin-bottom: 40px;
  color: #2c3e50;
}

.methods-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 20px;
  padding: 20px;
}

.earth-card {
  background: white;
  border: 1px solid rgba(255, 255, 255, 0.2);
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 200px;
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  transition: all 0.3s ease;
  cursor: pointer;
}

.earth-wrapper {
  position: relative;
  width: 10em;
  height: 10em;
}

.earth {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  object-fit: cover;
  animation: rotate 16s linear infinite;
  box-shadow:
      0 0 16px rgba(47, 84, 213, 0.5),
      inset -10px 10px 10px 10px rgba(47, 84, 213, 0.3);
  display: block;
}

.earth-glow {
  position: absolute;
  top: -4px;
  left: -4px;
  right: -4px;
  bottom: -4px;
  border-radius: 50%;
  animation: glow 3s ease-in-out infinite alternate;
  z-index: -1;
}

@keyframes rotate {
  from { transform: rotateY(0deg); }
  to { transform: rotateY(360deg); }
}

@keyframes glow {
  from { opacity: 0.6; }
  to { opacity: 1; }
}

.earth-card {
  color: white !important;
}

.earth-card {
  color: rgba(255, 255, 255, 0.9) !important;
}

.earth-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
  border-color: #3498db;
}

.earth-arrow {
  position: fixed;
  top: 24px;
  right: 24px;
  font-size: 1.5rem;
  color: #3498db;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.earth-card:hover .earth-arrow {
  opacity: 1;
}
</style>
